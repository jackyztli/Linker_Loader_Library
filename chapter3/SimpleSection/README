# Compilation Assembly but not link
gcc -c simplesection.c // output simplesection.o

# Check sections
objdump -h simplesection.o
# Output:
simplesection.o:     file format elf64-x86-64

Sections:
Idx Name          Size      VMA               LMA               File off  Algn
  0 .text         00000061  0000000000000000  0000000000000000  00000040  2**0
                  CONTENTS, ALLOC, LOAD, RELOC, READONLY, CODE
  1 .data         00000008  0000000000000000  0000000000000000  000000a4  2**2
                  CONTENTS, ALLOC, LOAD, DATA
  2 .bss          00000004  0000000000000000  0000000000000000  000000ac  2**2
                  ALLOC
  3 .rodata       00000004  0000000000000000  0000000000000000  000000ac  2**0
                  CONTENTS, ALLOC, LOAD, READONLY, DATA
  4 .comment      0000002c  0000000000000000  0000000000000000  000000b0  2**0
                  CONTENTS, READONLY
  5 .note.GNU-stack 00000000  0000000000000000  0000000000000000  000000dc  2**0
                  CONTENTS, READONLY
  6 .eh_frame     00000058  0000000000000000  0000000000000000  000000e0  2**3
                  CONTENTS, ALLOC, LOAD, RELOC, READONLY, DATA

# Check Size
size simplesector.o
   text    data     bss     dec     hex filename
    189       8       4     201      c9 simplesection.o

# .text
objdump -s -d simplesector.o
Contents of section .text:
 0000 554889e5 4883ec10 897dfc8b 45fc89c6  UH..H....}..E...
 0010 488d3d00 000000b8 00000000 e8000000  H.=.............
 0020 0090c9c3 554889e5 4883ec20 897dec48  ....UH..H.. .}.H
 0030 8975e0c7 45f80100 00008b15 00000000  .u..E...........
 0040 8b050000 00000faf d08b45f8 01c28b45  ..........E....E
 0050 fc01d089 c7e80000 0000b800 000000c9  ................
 0060 c3                                   .
......
 Disassembly of section .text:

0000000000000000 <func1>:
   0:   55                      push   %rbp
   1:   48 89 e5                mov    %rsp,%rbp
   4:   48 83 ec 10             sub    $0x10,%rsp
   8:   89 7d fc                mov    %edi,-0x4(%rbp)
   b:   8b 45 fc                mov    -0x4(%rbp),%eax
   e:   89 c6                   mov    %eax,%esi
  10:   48 8d 3d 00 00 00 00    lea    0x0(%rip),%rdi        # 17 <func1+0x17>
  17:   b8 00 00 00 00          mov    $0x0,%eax
  1c:   e8 00 00 00 00          callq  21 <func1+0x21>
  21:   90                      nop
  22:   c9                      leaveq
  23:   c3                      retq

0000000000000024 <main>:
  24:   55                      push   %rbp
  25:   48 89 e5                mov    %rsp,%rbp
  28:   48 83 ec 20             sub    $0x20,%rsp
  2c:   89 7d ec                mov    %edi,-0x14(%rbp)
  2f:   48 89 75 e0             mov    %rsi,-0x20(%rbp)
  33:   c7 45 f8 01 00 00 00    movl   $0x1,-0x8(%rbp)
  3a:   8b 15 00 00 00 00       mov    0x0(%rip),%edx        # 40 <main+0x1c>
  40:   8b 05 00 00 00 00       mov    0x0(%rip),%eax        # 46 <main+0x22>
  46:   0f af d0                imul   %eax,%edx
  49:   8b 45 f8                mov    -0x8(%rbp),%eax
  4c:   01 c2                   add    %eax,%edx
  4e:   8b 45 fc                mov    -0x4(%rbp),%eax
  51:   01 d0                   add    %edx,%eax
  53:   89 c7                   mov    %eax,%edi
  55:   e8 00 00 00 00          callq  5a <main+0x36>
  5a:   b8 00 00 00 00          mov    $0x0,%eax
  5f:   c9                      leaveq
  60:   c3                      retq

#.data and .rodata
objdump -s -x simplesection.o
Contents of section .data:
 0000 54000000 55000000                    T...U...     //global_init_var = 0x54
Contents of section .rodata:
 0000 25640a00                             %d..         //printf("%d\n", ...) -> %(0x25) d(0x64)
      \n(0x0a) \0(0x00)

# my own section
objdump -x -s test.o
0000000000000000 g     O JACKY  0000000000000004 tmp
...
Contents of section JACKY:
 0000 2a000000                             *...

#============================================================================
#                                                        
#                             ELF Construct
#
#============================================================================

# -- ELF Header -- #
readelf -h simplesection.o
ELF Header:
  Magic:   7f 45 4c 46 02 01 01 00 00 00 00 00 00 00 00 00
  Class:                             ELF64
  Data:                              2's complement, little endian
  Version:                           1 (current)
  OS/ABI:                            UNIX - System V
  ABI Version:                       0
  Type:                              REL (Relocatable file)
  Machine:                           Advanced Micro Devices X86-64
  Version:                           0x1
  Entry point address:               0x0
  Start of program headers:          0 (bytes into file)
  Start of section headers:          1120 (bytes into file)  --> 0x460
  Flags:                             0x0
  Size of this header:               64 (bytes)
  Size of program headers:           0 (bytes)
  Number of program headers:         0
  Size of section headers:           64 (bytes)
  Number of section headers:         13
  Section header string table index: 12


# -- ELF Section Table -- #
readelf -S simplesection.o
There are 13 section headers, starting at offset 0x460:

Section Headers:
  [Nr] Name              Type             Address           Offset
       Size              EntSize          Flags  Link  Info  Align
  [ 0]                   NULL             0000000000000000  00000000
       0000000000000000  0000000000000000           0     0     0
  [ 1] .text             PROGBITS         0000000000000000  00000040
       0000000000000061  0000000000000000  AX       0     0     1
  [ 2] .rela.text        RELA             0000000000000000  00000350
       0000000000000078  0000000000000018   I      10     1     8
  [ 3] .data             PROGBITS         0000000000000000  000000a4
       0000000000000008  0000000000000000  WA       0     0     4
  [ 4] .bss              NOBITS           0000000000000000  000000ac
       0000000000000004  0000000000000000  WA       0     0     4
  [ 5] .rodata           PROGBITS         0000000000000000  000000ac
       0000000000000004  0000000000000000   A       0     0     1
  [ 6] .comment          PROGBITS         0000000000000000  000000b0
       000000000000002c  0000000000000001  MS       0     0     1
  [ 7] .note.GNU-stack   PROGBITS         0000000000000000  000000dc
       0000000000000000  0000000000000000           0     0     1
  [ 8] .eh_frame         PROGBITS         0000000000000000  000000e0
       0000000000000058  0000000000000000   A       0     0     8
  [ 9] .rela.eh_frame    RELA             0000000000000000  000003c8
       0000000000000030  0000000000000018   I      10     8     8
  [10] .symtab           SYMTAB           0000000000000000  00000138
       0000000000000198  0000000000000018          11    11     8
  [11] .strtab           STRTAB           0000000000000000  000002d0
       000000000000007c  0000000000000000           0     0     1
  [12] .shstrtab         STRTAB           0000000000000000  000003f8
       0000000000000061  0000000000000000           0     0     1
Key to Flags:
  W (write), A (alloc), X (execute), M (merge), S (strings), I (info),
  L (link order), O (extra OS processing required), G (group), T (TLS),
  C (compressed), x (unknown), o (OS specific), E (exclude),
  l (large), p (processor specific)


# -- ELF Construct -- #
    +------------------------------+ 0x000
    |         ELF Header           |
    | Section Table Offset = 0x460-|-------------+
  --+------------------------------+ 0x040       |
    |                              |             |
0x61|          .text               |             |
    |                              |             |
  --+------------------------------+ 0x0a1       |
  --+------------------------------+ 0x0a4       |
    |                              |             |
0x08|          .data               |             |
    |                              |             |
  --+------------------------------+ 0x0ac       |
    |                              |             |
0x04|         .rodata              |             |
    |                              |             |
  --+------------------------------+ 0x0b0       |
    |                              |             |
0x2c|         .comment             |             |
    |                              |             |
  --+------------------------------+ 0x0dc       |
  --+------------------------------+ 0x0e0       |
    |                              |             |
0x58|         .eh_frame            |             |
    |                              |             |
  --+------------------------------+ 0x138       |
    |                              |             |
0x19|          .symtab             |             |
8   |                              |             |
  --+------------------------------+ 0x2d0       |
    |                              |             |
0x7c|          .strtab             |             |
    |                              |             |
  --+------------------------------+ 0x34c       |
  --+------------------------------+ 0x350       |
    |                              |             |
0x78|         .rela.text           |             |
    |                              |             |
  --+------------------------------+ 0x3c8       |
    |                              |             |
0x30|        .rela.eh_frame        |             |
    |                              |             |
  --+------------------------------+ 0x3f8       |
    |                              |             |
0x61|           .shstrtab          |             |
    |                              |             |
  --+------------------------------+ 0x459       |
  --+------------------------------+ 0x460<------+
    |                              |
    |        Section Table         |
    |                              |
  --+------------------------------+ 0x7a0


# -- ELF Source Code -- #
hd simplesection.o
# ELF Header
00000000  7f 45 4c 46 02 01 01 00  00 00 00 00 00 00 00 00  |.ELF............|
00000010  01 00 3e 00 01 00 00 00  00 00 00 00 00 00 00 00  |..>.............|
00000020  00 00 00 00 00 00 00 00  60 04 00 00 00 00 00 00  |........`.......|
00000030  00 00 00 00 40 00 00 00  00 00 40 00 0d 00 0c 00  |....@.....@.....|
# .text content
00000040  55 48 89 e5 48 83 ec 10  89 7d fc 8b 45 fc 89 c6  |UH..H....}..E...|
00000050  48 8d 3d 00 00 00 00 b8  00 00 00 00 e8 00 00 00  |H.=.............|
00000060  00 90 c9 c3 55 48 89 e5  48 83 ec 20 89 7d ec 48  |....UH..H.. .}.H|
00000070  89 75 e0 c7 45 f8 01 00  00 00 8b 15 00 00 00 00  |.u..E...........|
00000080  8b 05 00 00 00 00 0f af  d0 8b 45 f8 01 c2 8b 45  |..........E....E|
00000090  fc 01 d0 89 c7 e8 00 00  00 00 b8 00 00 00 00 c9  |................|
# .data(start at 0x0a4 content is 0x54 and 0x55) .rodata(start at 0x0ac content is %d\n\0)
000000a0  c3 00 00 00 54 00 00 00  55 00 00 00 25 64 0a 00  |....T...U...%d..|
# .comment
000000b0  00 47 43 43 3a 20 28 55  62 75 6e 74 75 20 37 2e  |.GCC: (Ubuntu 7.|
000000c0  34 2e 30 2d 31 75 62 75  6e 74 75 31 7e 31 38 2e  |4.0-1ubuntu1~18.|
000000d0  30 34 2e 31 29 20 37 2e  34 2e 30 00 00 00 00 00  |04.1) 7.4.0.....|
# .eh_frame
000000e0  14 00 00 00 00 00 00 00  01 7a 52 00 01 78 10 01  |.........zR..x..|
000000f0  1b 0c 07 08 90 01 00 00  1c 00 00 00 1c 00 00 00  |................|
00000100  00 00 00 00 24 00 00 00  00 41 0e 10 86 02 43 0d  |....$....A....C.|
00000110  06 5f 0c 07 08 00 00 00  1c 00 00 00 3c 00 00 00  |._..........<...|
00000120  00 00 00 00 3d 00 00 00  00 41 0e 10 86 02 43 0d  |....=....A....C.|
# .symtab(start at 0x138)
00000130  06 78 0c 07 08 00 00 00  00 00 00 00 00 00 00 00  |.x..............|
00000140  00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00  |................|
00000150  01 00 00 00 04 00 f1 ff  00 00 00 00 00 00 00 00  |................|
00000160  00 00 00 00 00 00 00 00  00 00 00 00 03 00 01 00  |................|
00000170  00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00  |................|
00000180  00 00 00 00 03 00 03 00  00 00 00 00 00 00 00 00  |................|
00000190  00 00 00 00 00 00 00 00  00 00 00 00 03 00 04 00  |................|
000001a0  00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00  |................|
000001b0  00 00 00 00 03 00 05 00  00 00 00 00 00 00 00 00  |................|
000001c0  00 00 00 00 00 00 00 00  11 00 00 00 01 00 03 00  |................|
000001d0  04 00 00 00 00 00 00 00  04 00 00 00 00 00 00 00  |................|
000001e0  21 00 00 00 01 00 04 00  00 00 00 00 00 00 00 00  |!...............|
000001f0  04 00 00 00 00 00 00 00  00 00 00 00 03 00 07 00  |................|
00000200  00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00  |................|
00000210  00 00 00 00 03 00 08 00  00 00 00 00 00 00 00 00  |................|
00000220  00 00 00 00 00 00 00 00  00 00 00 00 03 00 06 00  |................|
00000230  00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00  |................|
00000240  32 00 00 00 11 00 03 00  00 00 00 00 00 00 00 00  |2...............|
00000250  04 00 00 00 00 00 00 00  42 00 00 00 11 00 f2 ff  |........B.......|
00000260  04 00 00 00 00 00 00 00  04 00 00 00 00 00 00 00  |................|
00000270  54 00 00 00 12 00 01 00  00 00 00 00 00 00 00 00  |T...............|
00000280  24 00 00 00 00 00 00 00  5a 00 00 00 10 00 00 00  |$.......Z.......|
00000290  00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00  |................|
000002a0  70 00 00 00 10 00 00 00  00 00 00 00 00 00 00 00  |p...............|
000002b0  00 00 00 00 00 00 00 00  77 00 00 00 12 00 01 00  |........w.......|
000002c0  24 00 00 00 00 00 00 00  3d 00 00 00 00 00 00 00  |$.......=.......|
# .strtab
000002d0  00 73 69 6d 70 6c 65 73  65 63 74 69 6f 6e 2e 63  |.simplesection.c|
000002e0  00 73 74 61 74 69 63 5f  76 61 72 2e 32 32 35 38  |.static_var.2258|
000002f0  00 73 74 61 74 69 63 5f  76 61 72 32 2e 32 32 35  |.static_var2.225|
00000300  39 00 67 6c 6f 62 61 6c  5f 69 6e 69 74 5f 76 61  |9.global_init_va|
00000310  72 00 67 6c 6f 62 61 6c  5f 75 6e 69 6e 69 74 5f  |r.global_uninit_|
00000320  76 61 72 00 66 75 6e 63  31 00 5f 47 4c 4f 42 41  |var.func1._GLOBA|
00000330  4c 5f 4f 46 46 53 45 54  5f 54 41 42 4c 45 5f 00  |L_OFFSET_TABLE_.|
00000340  70 72 69 6e 74 66 00 6d  61 69 6e 00 00 00 00 00  |printf.main.....|
# .rela.text
00000350  13 00 00 00 00 00 00 00  02 00 00 00 05 00 00 00  |................|
00000360  fc ff ff ff ff ff ff ff  1d 00 00 00 00 00 00 00  |................|
00000370  04 00 00 00 0f 00 00 00  fc ff ff ff ff ff ff ff  |................|
00000380  3c 00 00 00 00 00 00 00  02 00 00 00 03 00 00 00  |<...............|
00000390  00 00 00 00 00 00 00 00  42 00 00 00 00 00 00 00  |........B.......|
000003a0  02 00 00 00 04 00 00 00  fc ff ff ff ff ff ff ff  |................|
000003b0  56 00 00 00 00 00 00 00  02 00 00 00 0d 00 00 00  |V...............|
# .rela.eh_frame(start at 0x3c8)
000003c0  fc ff ff ff ff ff ff ff  20 00 00 00 00 00 00 00  |........ .......|
000003d0  02 00 00 00 02 00 00 00  00 00 00 00 00 00 00 00  |................|
000003e0  40 00 00 00 00 00 00 00  02 00 00 00 02 00 00 00  |@...............|
# .shstrtab(start at 0x3f8)
000003f0  24 00 00 00 00 00 00 00  00 2e 73 79 6d 74 61 62  |$.........symtab|
00000400  00 2e 73 74 72 74 61 62  00 2e 73 68 73 74 72 74  |..strtab..shstrt|
00000410  61 62 00 2e 72 65 6c 61  2e 74 65 78 74 00 2e 64  |ab..rela.text..d|
00000420  61 74 61 00 2e 62 73 73  00 2e 72 6f 64 61 74 61  |ata..bss..rodata|
00000430  00 2e 63 6f 6d 6d 65 6e  74 00 2e 6e 6f 74 65 2e  |..comment..note.|
00000440  47 4e 55 2d 73 74 61 63  6b 00 2e 72 65 6c 61 2e  |GNU-stack..rela.|
00000450  65 68 5f 66 72 61 6d 65  00 00 00 00 00 00 00 00  |eh_frame........|
00000460  00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00  |................|

# -- Section Table -- #
# .text_ELF64_Shdr
*
000004a0  20 00 00 00 01 00 00 00  06 00 00 00 00 00 00 00  | ...............|
000004b0  00 00 00 00 00 00 00 00  40 00 00 00 00 00 00 00  |........@.......|
000004c0  61 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00  |a...............|
000004d0  01 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00  |................|
#sh_name      : 0x20      sh_type : 0x1        sh_flags : 0x6        0x00
#sh_addr      : 0x0                            sh_offset: 0x40
#sh_size      : 0x61      sh_link : 0x0        sh_info  : 0x0
#sh_addralign : 0x1  sh_entsize : 0x00    0x00

# .rela.text_ELF64_Shdr
000004e0  1b 00 00 00 04 00 00 00  40 00 00 00 00 00 00 00  |........@.......|
000004f0  00 00 00 00 00 00 00 00  50 03 00 00 00 00 00 00  |........P.......|
00000500  78 00 00 00 00 00 00 00  0a 00 00 00 01 00 00 00  |x...............|
00000510  08 00 00 00 00 00 00 00  18 00 00 00 00 00 00 00  |................|

# .data._ELF64_Shdr
00000520  26 00 00 00 01 00 00 00  03 00 00 00 00 00 00 00  |&...............|
00000530  00 00 00 00 00 00 00 00  a4 00 00 00 00 00 00 00  |................|
00000540  08 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00  |................|
00000550  04 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00  |................|

# .bss.ELF64_Shdr
00000560  2c 00 00 00 08 00 00 00  03 00 00 00 00 00 00 00  |,...............|
00000570  00 00 00 00 00 00 00 00  ac 00 00 00 00 00 00 00  |................|
00000580  04 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00  |................|

# .rodata.ELF64_Shdr
000005a0  31 00 00 00 01 00 00 00  02 00 00 00 00 00 00 00  |1...............|
000005b0  00 00 00 00 00 00 00 00  ac 00 00 00 00 00 00 00  |................|
000005c0  04 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00  |................|
000005d0  01 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00  |................|

# .comment.ELF64_Shdr
000005e0  39 00 00 00 01 00 00 00  30 00 00 00 00 00 00 00  |9.......0.......|
000005f0  00 00 00 00 00 00 00 00  b0 00 00 00 00 00 00 00  |................|
00000600  2c 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00  |,...............|
00000610  01 00 00 00 00 00 00 00  01 00 00 00 00 00 00 00  |................|

# .note.GNU-stack.ELF64_Shdr
00000620  42 00 00 00 01 00 00 00  00 00 00 00 00 00 00 00  |B...............|
00000630  00 00 00 00 00 00 00 00  dc 00 00 00 00 00 00 00  |................|
00000640  00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00  |................|
00000650  01 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00  |................|

# .eh_frame.ELF64_Shdr
00000660  57 00 00 00 01 00 00 00  02 00 00 00 00 00 00 00  |W...............|
00000670  00 00 00 00 00 00 00 00  e0 00 00 00 00 00 00 00  |................|
00000680  58 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00  |X...............|
00000690  08 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00  |................|

# .rela.eh_frame_ELF64_Shdr
000006a0  52 00 00 00 04 00 00 00  40 00 00 00 00 00 00 00  |R.......@.......|
000006b0  00 00 00 00 00 00 00 00  c8 03 00 00 00 00 00 00  |................|
000006c0  30 00 00 00 00 00 00 00  0a 00 00 00 08 00 00 00  |0...............|
000006d0  08 00 00 00 00 00 00 00  18 00 00 00 00 00 00 00  |................|

# .symtab_ELF64_Shdr
000006e0  01 00 00 00 02 00 00 00  00 00 00 00 00 00 00 00  |................|
000006f0  00 00 00 00 00 00 00 00  38 01 00 00 00 00 00 00  |........8.......|
00000700  98 01 00 00 00 00 00 00  0b 00 00 00 0b 00 00 00  |................|
00000710  08 00 00 00 00 00 00 00  18 00 00 00 00 00 00 00  |................|

# .strtab_ELF64_Shdr
00000720  09 00 00 00 03 00 00 00  00 00 00 00 00 00 00 00  |................|
00000730  00 00 00 00 00 00 00 00  d0 02 00 00 00 00 00 00  |................|
00000740  7c 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00  ||...............|
00000750  01 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00  |................|

# .shstrtab_ELF64_Shdr
00000760  11 00 00 00 03 00 00 00  00 00 00 00 00 00 00 00  |................|
00000770  00 00 00 00 00 00 00 00  f8 03 00 00 00 00 00 00  |................|
00000780  61 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00  |a...............|
00000790  01 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00  |................|
000007a0

